{"version":3,"sources":["../../../es6/view/ControllerView/ServerManageView.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AASA,IAAI,gBAAgB,GAAG,gBAAM,WAAW,CAAC;;AACrC,sBAAkB,gCAAE;;AAEhB,SAAC,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC,CAAA;KAClF;AACD,YAAQ,sBAAE;YAEC,QAAQ,GAAE,IAAI,CAAC,KAAK,CAApB,QAAQ;;AAEf,YAAI,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,KAAK;YAC5C,cAAc,GAAG,WAZrB,oBAAoB,EAYsB,UAAU,CAAC,CAAC;;AAEtD,YAAI,cAAc,CAAC,MAAM,EAAE;;AAEvB,oBAAQ,CAAC,YAjBb,gBAAgB,EAiBc,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC,CAAC,CAClE,IAAI,CAAC;uBAAI,KAAK,CAAC,iBAAiB,CAAC;aAAA,CAAC,CAAC;SAC3C,MACI;;AAED,iBAAK,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;SACjC;KACJ;AACD,UAAM,oBAAE;;AAEJ,eACI;;cAAK,SAAS,EAAC,4BAA4B;YACvC,wDAAY;YACZ;;kBAAK,SAAS,EAAC,4BAA4B;gBACvC;;sBAAK,SAAS,EAAC,aAAa;oBACxB;;;;qBAA6B;iBAC3B;gBACN,4CAAU,GAAG,EAAC,iBAAiB,EAAC,SAAS,EAAC,+BAA+B,GAC9D;gBACX;;;AACI,4BAAI,EAAC,QAAQ;AACb,iCAAS,EAAC,mCAAmC;AAC7C,+BAAO,EAAE,IAAI,CAAC,QAAQ,AAAC;;;iBAGlB;aACP;SACJ,CACR;KACL;CACJ,CAAC;;;AAAC;AAEH,SAAS,MAAM,CAAC,KAAK,EAAE;AACnB,WAAO,KAAK,CAAC,IAAI,EAAE,CAAC;CACvB;;kBAEc,gBAtDP,OAAO,EAsDQ,MAAM,CAAC,CAAC,gBAAgB,CAAC","file":"ServerManageView.js","sourcesContent":["/**\n * Created by Ellery1 on 16/1/11.\n */\nimport React from 'react';\nimport Navigator from '../Common/Navigator';\nimport {connect} from 'react-redux';\nimport {setServerAndSave} from '../../action';\nimport {validateServerConfig} from '../../utils';\n\nvar ServerManageView = React.createClass({\n    componentDidUpdate(){\n\n        $(this.refs.serverInfoInput).val(JSON.stringify(this.props.server, null, '\\t'))\n    },\n    onSubmit(){\n\n        const {dispatch}=this.props;\n\n        var serverInfo = this.refs.serverInfoInput.value,\n            validateResult = validateServerConfig(serverInfo);\n\n        if (validateResult.result) {\n\n            dispatch(setServerAndSave(JSON.parse(this.refs.serverInfoInput.value)))\n                .then(()=>alert('保存成功,请重启qproxy.'));\n        }\n        else {\n\n            alert(validateResult.message);\n        }\n    },\n    render(){\n\n        return (\n            <div className=\"container-fluid serverView\">\n                <Navigator/>\n                <div className=\"container-fluid serverView\">\n                    <div className=\"page-header\">\n                        <h1>服务器组配置(~/.qsconfig):</h1>\n                    </div>\n                    <textarea ref=\"serverInfoInput\" className=\"form-control serverInfo_input\">\n                    </textarea>\n                    <button\n                        type=\"submit\"\n                        className=\"save form-control btn btn-success\"\n                        onClick={this.onSubmit}\n                    >\n                        保存\n                    </button>\n                </div>\n            </div>\n        );\n    }\n});\n\nfunction select(state) {\n    return state.toJS();\n}\n\nexport default connect(select)(ServerManageView);"]}