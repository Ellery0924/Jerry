{"version":3,"sources":["../../../es6/view/rewriteManage/InsertModal.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;kBAMe,gBAAM,WAAW,CAAC;;AAC7B,YAAQ,sBAAE;;AAEN,YAAI,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,KAAK;YACzC,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC;;qBAEd,IAAI,CAAC,KAAK;YAAvC,eAAe,UAAf,eAAe;YAAC,WAAW,UAAX,WAAW;;AAElC,YAAI,cAAc,GAAG,WAVrB,eAAe,EAUsB,OAAO,EAAE,SAAS,EAAE,WAAW,CAAC,CAAC;;AAEtE,YAAI,cAAc,CAAC,MAAM,EAAE;;AAEvB,2BAAe,CAAC,EAAC,OAAO,EAAP,OAAO,EAAE,SAAS,EAAT,SAAS,EAAE,IAAI,EAAE,CAAC,EAAC,CAAC,CAAC;AAC/C,aAAC,CAAC,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;SACjD,MACI;;AAED,iBAAK,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;SACjC;KACJ;AACD,qBAAiB,+BAAE;;;AAEf,SAAC,CAAC,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,EAAE,CAAC,gBAAgB,EAAE,YAAK;AACtD,aAAC,CAAC,MAAK,IAAI,CAAC,eAAe,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC;AAC7C,aAAC,CAAC,MAAK,IAAI,CAAC,iBAAiB,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;SAC1C,CAAC,CAAC;KACN;AACD,UAAM,oBAAE;;AAEJ,eACI;;cAAK,SAAS,EAAC,OAAO,EAAC,EAAE,EAAC,iBAAiB,EAAC,GAAG,EAAC,oBAAoB;YAChE;;kBAAK,SAAS,EAAC,cAAc;gBACzB;;sBAAK,SAAS,EAAC,eAAe;oBAC1B;;0BAAK,SAAS,EAAC,cAAc;wBACzB;;8BAAQ,IAAI,EAAC,QAAQ,EAAC,SAAS,EAAC,OAAO,EAAC,gBAAa,OAAO,EAAC,cAAW,OAAO;4BAC3E;;kCAAM,eAAY,MAAM;;6BAAe;yBAClC;wBACT;;8BAAI,SAAS,EAAC,aAAa;;yBAAiB;qBAC1C;oBACN;;0BAAK,SAAS,EAAC,YAAY;wBACvB;;8BAAK,SAAS,EAAC,YAAY;4BACvB;;kCAAO,OAAO,EAAC,gBAAgB;;6BAAiB;4BAChD,yCAAO,GAAG,EAAC,iBAAiB,EAAC,IAAI,EAAC,MAAM,EAAC,SAAS,EAAC,cAAc,EAAC,EAAE,EAAC,mBAAmB;AACjF,yCAAS,MAAA,GAAE;yBAChB;wBACN;;8BAAK,SAAS,EAAC,YAAY;4BACvB;;kCAAO,OAAO,EAAC,gBAAgB;;6BAAmB;4BAClD,yCAAO,GAAG,EAAC,mBAAmB,EAAC,IAAI,EAAC,MAAM,EAAC,SAAS,EAAC,cAAc;AAC5D,kCAAE,EAAC,qBAAqB,EAAC,SAAS,MAAA,GAAE;yBACzC;qBACJ;oBACN;;0BAAK,SAAS,EAAC,cAAc;wBACzB;;8BAAQ,IAAI,EAAC,QAAQ,EAAC,SAAS,EAAC,iBAAiB,EAAC,gBAAa,OAAO;;yBAAY;wBAClF;;;AACI,oCAAI,EAAC,QAAQ;AACb,yCAAS,EAAC,kCAAkC;AAC5C,uCAAO,EAAE,IAAI,CAAC,QAAQ,AAAC;;;yBAGlB;qBACP;iBACJ;aACJ;SACJ,CACR;KACL;CACJ,CAAC","file":"InsertModal.js","sourcesContent":["/**\n * Created by Ellery1 on 16/1/11.\n */\nimport React from 'react';\nimport {validatePattern} from '../../utils';\n\nexport default React.createClass({\n    onSubmit(){\n\n        var pattern = this.refs.newPatternInput.value,\n            responder = this.refs.newResponderInput.value;\n\n        const {onInsertPattern,patternList}=this.props;\n\n        var validateResult = validatePattern(pattern, responder, patternList);\n\n        if (validateResult.result) {\n\n            onInsertPattern({pattern, responder, isOn: 1});\n            $(this.refs.insertPatternModal).modal('hide');\n        }\n        else {\n\n            alert(validateResult.message);\n        }\n    },\n    componentDidMount(){\n\n        $(this.refs.insertPatternModal).on('shown.bs.modal', ()=> {\n            $(this.refs.newPatternInput).val('').focus();\n            $(this.refs.newResponderInput).val('');\n        });\n    },\n    render(){\n\n        return (\n            <div className=\"modal\" id=\"addPatternModal\" ref=\"insertPatternModal\">\n                <div className=\"modal-dialog\">\n                    <div className=\"modal-content\">\n                        <div className=\"modal-header\">\n                            <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                                <span aria-hidden=\"true\">&times;</span>\n                            </button>\n                            <h4 className=\"modal-title\">添加Rewrite规则</h4>\n                        </div>\n                        <div className=\"modal-body\">\n                            <div className=\"form-group\">\n                                <label htmlFor=\"newRule_domain\">Pattern:</label>\n                                <input ref=\"newPatternInput\" type=\"text\" className=\"form-control\" id=\"new_pattern_input\"\n                                       autofocus/>\n                            </div>\n                            <div className=\"form-group\">\n                                <label htmlFor=\"newRule_domain\">Responder:</label>\n                                <input ref=\"newResponderInput\" type=\"text\" className=\"form-control\"\n                                       id=\"new_responder_input\" autofocus/>\n                            </div>\n                        </div>\n                        <div className=\"modal-footer\">\n                            <button type=\"button\" className=\"btn btn-default\" data-dismiss=\"modal\">取消</button>\n                            <button\n                                type=\"button\"\n                                className=\"btn btn-primary addPatternSubmit\"\n                                onClick={this.onSubmit}\n                            >\n                                确定\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n});"]}